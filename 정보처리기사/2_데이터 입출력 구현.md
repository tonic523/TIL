# 데이터 입출력 구현

## 1.논리 데이터 저장소 확인

### 논리 데이터 모델링
- DB 설계 프로세스의 기초 설계 단계, 비즈니스 정보의 구조와 규칙을 명확하게 표현할 수 있는 기법
- 속성: 개체, 속성, 관계
- E-R 모델
    현실 세계에 존재하는 데이터와 그들 간의 관계를 사람이 이해할 수 있는 형태로 표현한 모델

### 정규화
- 중복을 최소화하여 데이터를 구조화하는 프로세스
- 이상현상
    릴레이션을 조작할 때 발생하는 비합리적 현상(삽입이상, 삭제이상, 갱신이상)
- 정규화의 단계
    
    단계 | 조건
    :---:|:---
    1NF|원자값으로 구성
    2NF|부분 함수 종속 제거
    3NF|이행 함수 종속 제거
    BCNF|결정자 함수이면서 후보키 아닌것 제거
    4NF|다치 종속성 제거
    5NF|조인 종속성 제거

## 2. 물리 데이터 저장소 설계

### 물리 데이터 모델링
- 논리모델을 적용하고자 하는 기술에 맞도록 상세화해가는 과정
- DDL: 데이터를 정의하는 언어(CREATE, DROP, ALTER, TRUNCATE, RENAME)
- 변환 절차(논리 데이터 -> 물리 데이터)
        
    논리 | 물리
    :---:|:---:
    개체|테이블
    속성|칼럼
    UID|기본키
   관계|외래키

- 반 정규화
    성능 향상과 개발 운영의 단순화를 위해 중복, 통합, 분리 등을 수행하는 데이터 모델링의 기법

### 물리 데이터 저장소 구성
- 테이블 제약조건 설계
    - 참조무결성 제약조건
        외래키의 값은 항상 참조되는 릴레이션에 기본키로 존재(Restricted, Cascade, Nullify)
- 인덱스 설계
    인덱스: 검색 연산의 최적화를 위해 DB 내 열에 대한 정보를 구성한 데이터구조

- 뷰 설계
    속성: REPLACE, FORCE, NOFORCE
    DML 작업불가
    
- 클러스터 설계
    검색 효율은 높여주나 입력, 수정, 삭제 시는 부하가 증가함

- 파티션 설계
    - 레인지 파티션
        연속적인 숫자나 날짜를 기준으로 하는 파티셔닝 기법
    - 리스트 파티셔닝
        특정 파티션에 저장 될 데이터에 대한 명시적 제어가 가능한 파티셔닝 기법
    - 컴포지트 파티셔닝
        범위분할 이후 해시 함수를 적용하여 재분할 하는 파티셔닝 기법

## 3. 데이터 조작 프로시저 작성

### 데이터 조작 프로시저 개발

- 프로시저
    SQL을 이용해 생성된 데이터를 조작하는 프로그램

- PL/SQL 작성 절차
    1. 데이터 자장소 연결
        JAVA환경의 경우 JDBC를 통해 연결한다.
    2. 데이터 저장소 정의(DDL)

    3. 데이터 조작 프로시저 작성
        CREATE OR REPLACE PROCEDURE___
        IS___
        BEGIN___
        4. 데이터 검색 프로시저 작성(DML)
            INSERT, SELECT, UPDATE, DELETE
        EXEPTION___
        END;

## 4. 데이터 조작 프로시저 최적화

### 데이터 조작 프로시저 성능 개선

- 쿼리 성능 개선(튜닝)
    SQL 실행 계획을 분석, 수정을 통해 최소의 시간으로 원하는 결과를 얻도록 프로시저를 수정하는 작업

- 옵티마이저
    SQL을 가장 빠르고 효율적으로 수행할 최적의 처리경로를 생성해주는 DBMS 내부의 핵심엔진(처리경로를 실행계획이라고 부름)
    - 유형
        규칙기발 옵티마이저(RBO), 비용기반 옵티마이저(CBO)

- 힌트 사용
    실행 계획을 원하는 대로 변경할 수 있게 한다.

